<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<configuration>
  <property>
    <name>fs.defaultFS</name>
    <value>hdfs://ltx1-hcl0561.grid.linkedin.com:9000</value>
  </property>
  <property>
    <name>hadoop.tmp.dir</name>
    <value>/export/apps/gtest/hadooptmpdir</value>
    <final>true</final>
  </property>
  <property>
    <name>io.file.buffer.size</name>
    <value>65536</value>
  </property>
  <property>
    <name>fs.trash.interval</name>
    <value>360</value>
  </property>
  <property>
    <name>net.topology.node.switch.mapping.impl</name>
    <value>com.linkedin.grid.hadoop.GridTopology</value>
  </property>
  <property>
    <name>io.compression.codecs</name>
    <value>
      org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.BZip2Codec,org.apache.hadoop.io.compress.SnappyCodec
    </value>
  </property>
  <property>
    <name>io.compression.codec.lzo.class</name>
    <value>com.hadoop.compression.lzo.LzoCodec</value>
  </property>
  <property>
    <name>io.native.lib.available</name>
    <value>true</value>
  </property>

  <!-- Security -->
  <property>
    <name>hadoop.security.authentication</name>
    <value>kerberos</value>
  </property>
  <property>
    <name>hadoop.security.authorization</name>
    <value>true</value>
  </property>
  <property>
    <name>hadoop.security.auth_to_local</name>
    <value>
      RULE:[1:$1@$0](.*@LINKEDIN.BIZ)s/@.*//
      RULE:[2:$1@$0](.*@LINKEDIN.BIZ)s/@.*//
      RULE:[2:$1/$2@$0](.*/hdfsqa@GRID.LINKEDIN.COM)s/.*/hdfsqa/
      RULE:[2:$1/$2@$0](.*/yarnqa@GRID.LINKEDIN.COM)s/.*/yarnqa/
      DEFAULT
    </value>
  </property>

  <!-- HTTP web-consoles Authentication -->
  <property>
    <name>hadoop.http.filter.initializers</name>
    <value>org.apache.hadoop.security.AuthenticationFilterInitializer</value>
  </property>
  <property>
    <name>hadoop.http.authentication.type</name>
    <value>kerberos</value>
  </property>
  <property>
    <name>hadoop.http.authentication.kerberos.keytab</name>
    <value>/export/apps/hadoop/keytabs/${user.name}.keytab</value>
  </property>
  <property>
    <name>hadoop.http.authentication.signature.secret.file</name>
    <value>/etc/hadoop/http-auth-signature-secret</value>
  </property>
  <property>
    <name>hadoop.http.authentication.kerberos.principal</name>
    <value>HTTP/_HOST@GRID.LINKEDIN.COM</value>
  </property>
  <property>
    <name>dfs.nameservices</name>
    <value>ltx1-holdemnn01</value>
  </property>
  <property>
    <name>dfs.namenode.http-address</name>
    <value>ltx1-hcl0561.grid.linkedin.com:50070</value>
  </property>
  <property>
    <name>dfs.namenode.backup.http-address</name>
    <value>ltx1-hcl0561.grid.linkedin.com:50080</value>
  </property>
  <property>
    <name>dfs.namenode.secondary.http-address</name>
    <value>ltx1-hcl0561.grid.linkedin.com:50090</value>
  </property>
  <property>
    <name>dfs.datanode.address</name>
    <value>0.0.0.0:71</value>
  </property>
  <property>
    <name>dfs.datanode.http.address</name>
    <value>0.0.0.0:70</value>
  </property>
  <property>
    <name>dfs.datanode.ipc.address</name>
    <value>0.0.0.0:50020</value>
  </property>
  <property>
    <name>dfs.namenode.safemode.extension</name>
    <value>10000</value>
  </property>
  <property>
    <name>dfs.namenode.safemode.threshold-pct</name>
    <value>1.0f</value>
  </property>
  <property>
    <name>dfs.replication</name>
    <value>3</value>
  </property>
  <property>
    <name>dfs.namenode.delegation.token.max-lifetime</name>
    <value>86400000</value>
  </property>
  <property>
    <name>dfs.replication.min</name>
    <value>1</value>
  </property>
  <property>
    <name>dfs.replication.max</name>
    <value>20</value>
  </property>
  <property>
    <name>dfs.datanode.data.dir</name>
    <value>
      file:///grid/a/dfs-data/bs,file:///grid/b/dfs-data/bs,file:///grid/c/dfs-data/bs,file:///grid/d/dfs-data/bs,file:///grid/e/dfs-data/bs,file:///grid/f/dfs-data/bs
    </value>
  </property>
  <property>
    <name>dfs.namenode.name.dir</name>
    <value>file:///export/home/hdfsqa/name-data</value>
  </property>
  <property>
    <name>dfs.namenode.checkpoint.dir</name>
    <value>file:///export/home/hdfsqa/checkpoint</value>
  </property>
  <property>
    <name>dfs.datanode.du.reserved</name>
    <value>96636764160</value>
  </property>
  <property>
    <name>dfs.datanode.balance.bandwidthPerSec</name>
    <value>314572800</value>
  </property>
  <property>
    <name>dfs.blocksize</name>
    <value>536870912</value>
  </property>
  <property>
    <name>dfs.hosts</name>
    <value>/export/apps/hadoop/site/etc/hadoop/dfs.include</value>
  </property>
  <property>
    <name>dfs.hosts.exclude</name>
    <value>/export/apps/hadoop/site/etc/hadoop/dfs.exclude</value>
  </property>
  <property>
    <name>dfs.namenode.handler.count</name>
    <value>128</value>
  </property>
  <property>
    <name>ipc.server.max.response.size</name>
    <value>2097152</value>
  </property>
  <property>
    <name>dfs.datanode.max.transfer.threads</name>
    <value>1024</value>
  </property>
  <property>
    <name>dfs.permissions.superusergroup</name>
    <value>hdfsqa</value>
  </property>
  <property>
    <name>dfs.datanode.data.dir.perm</name>
    <value>700</value>
  </property>
  <property>
    <name>dfs.umaskmode</name>
    <value>027</value>
  </property>
  <property>
    <name>dfs.block.access.token.enable</name>
    <value>true</value>
  </property>
  <property>
    <name>dfs.namenode.kerberos.principal.pattern</name>
    <value>*</value>
  </property>
  <property>
    <name>dfs.namenode.kerberos.principal</name>
    <value>hdfsqa/_HOST@GRID.LINKEDIN.COM</value>
  </property>
  <property>
    <name>dfs.namenode.kerberos.internal.spnego.principal</name>
    <value>HTTP/_HOST@GRID.LINKEDIN.COM</value>
  </property>
  <property>
    <name>dfs.secondary.namenode.kerberos.principal</name>
    <value>hdfsqa/_HOST@GRID.LINKEDIN.COM</value>
  </property>
  <property>
    <name>dfs.secondary.namenode.kerberos.internal.spnego.principal</name>
    <value>HTTP/_HOST@GRID.LINKEDIN.COM</value>
  </property>
  <property>
    <name>dfs.datanode.kerberos.principal</name>
    <value>hdfsqa/_HOST@GRID.LINKEDIN.COM</value>
  </property>
  <property>
    <name>dfs.namenode.keytab.file</name>
    <value>/export/apps/hadoop/keytabs/${user.name}.keytab</value>
  </property>
  <property>
    <name>dfs.secondary.namenode.keytab.file</name>
    <value>/export/apps/hadoop/keytabs/${user.name}.keytab</value>
  </property>
  <property>
    <name>dfs.web.authentication.kerberos.keytab</name>
    <value>/export/apps/hadoop/keytabs/${user.name}.keytab</value>
  </property>
  <property>
    <name>dfs.web.authentication.kerberos.principal</name>
    <value>HTTP/_HOST@GRID.LINKEDIN.COM</value>
  </property>
  <property>
    <name>dfs.datanode.keytab.file</name>
    <value>/export/apps/hadoop/keytabs/${user.name}.keytab</value>
  </property>
  <property>
    <name>dfs.cluster.administrators</name>
    <value>hdfsqa</value>
  </property>
  <property>
    <name>dfs.webhdfs.enabled</name>
    <value>true</value>
  </property>
  <property>
    <name>dfs.client.failover.proxy.provider.ltx1-holdemnn01.grid.linkedin.com</name>
    <value>org.apache.hadoop.hdfs.server.namenode.ha.IPFailoverProxyProvider</value>
  </property>
  <property>
    <name>dfs.client.failover.connection.retries</name>
    <value>5</value>
  </property>
  <property>
    <name>dfs.client.failover.connection.retries.on.timeouts</name>
    <value>5</value>
  </property>
</configuration>